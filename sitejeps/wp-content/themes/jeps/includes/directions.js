!function(e){e.Directions=function(){function e(){var e,o,n,t,r,a,i,s={mapCanvas:jQuery("#mapCanvas")[0],dirPanel:jQuery("#directionsPanel"),dirInputs:jQuery(".directionInputs"),dirSrc:jQuery("#dirSource"),dirDst:jQuery("#dirDestination"),getDirBtn:jQuery("#getDirections"),dirSteps:jQuery("#directionSteps"),paneToggle:jQuery("#paneToggle"),useGPSBtn:jQuery("#useGPS"),paneResetBtn:jQuery("#paneReset")},l=function(){t=new google.maps.places.Autocomplete(s.dirSrc[0]),r=new google.maps.places.Autocomplete(s.dirDst[0])},p=function(){o=new google.maps.DirectionsService,n=new google.maps.DirectionsRenderer({suppressMarkers:!1}),n.setPanel(s.dirSteps[0])},c=function(){var o=document.createElement("div"),n=document.createElement("div"),t=new google.maps.TrafficLayer;jQuery(o).addClass("gmap-control-container").addClass("gmnoprint"),jQuery(n).text("Traffic").addClass("gmap-control"),jQuery(o).append(n),google.maps.event.addDomListener(n,"click",function(){"undefined"==typeof t.getMap()||null===t.getMap()?(jQuery(n).addClass("gmap-control-active"),t.setMap(e)):(t.setMap(null),jQuery(n).removeClass("gmap-control-active"))}),e.controls[google.maps.ControlPosition.TOP_RIGHT].push(o)},g=function(){e=new google.maps.Map(s.mapCanvas,{zoom:12,center:new google.maps.LatLng(-25.095481,-50.157637),mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DEFAULT,position:google.maps.ControlPosition.TOP_RIGHT},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_TOP},scaleControl:!0,streetViewControl:!0,overviewMapControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1}),l(),p(),c()},u=function(t){s.dirSteps.find(".msg").hide(),n.setMap(e);var r={origin:t,destination:"Finer Soluções Web - Rua Doutor Colares - Centro, Ponta Grossa - Paraná, Brasilien",provideRouteAlternatives:!1,travelMode:google.maps.DirectionsTravelMode.DRIVING};o.route(r,function(o,t){if(t==google.maps.DirectionsStatus.OK){n.setDirections(o);var r=o.routes[0].legs[0];a=new google.maps.Marker({position:r.start_location,map:e,icon:markerA}),i=new google.maps.Marker({position:r.end_location,map:e,icon:markerB})}})},d=function(e){var o=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),n=new google.maps.Geocoder;n.geocode({latLng:o},function(e,o){if(o==google.maps.GeocoderStatus.OK){var n=e[0];s.dirSrc.val(n.formatted_address)}})},m=function(){s.getDirBtn.on("click",function(e){e.preventDefault();var o=s.dirSrc.val(),n=s.dirDst.val();u(o,n)}),s.paneResetBtn.on("click",function(){s.dirSteps.html(""),s.dirSrc.val(""),s.dirDst.val(""),a&&a.setMap(null),i&&i.setMap(null),n.setMap(null)}),s.paneToggle.toggle(function(){s.dirPanel.animate({left:"-=305px"}),jQuery(this).html("&gt;")},function(){s.dirPanel.animate({left:"+=305px"}),jQuery(this).html("&lt;")}),s.useGPSBtn.on("click",function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){d(e)})})},f=function(){g(),m()};return this.init=function(){return f(),this},this.init()}return new e}()}(window.mapDemo=window.mapDemo||{},jQuery);